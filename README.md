# Cчётчики INSTRUCTION, LINE, BRANCH, COMPLEXITY.

* INSTRUCTION- Самая маленькая единица отсчета JaCoCo - это одиночные инструкции байт-кода Java. Покрытие инструкций предоставляет информацию о количестве кода, который был выполнен или пропущен. Эта метрика полностью независима от исходного форматирования и всегда доступна, даже при отсутствии отладочной информации в файлах класса
* LINE -Для всех файлов классов, скомпилированных с отладочной информацией, можно вычислить информацию о покрытии для отдельных строк. Исходная строка считается выполненной, если была выполнена хотя бы одна инструкция, назначенная этой строке.

В связи с тем что одна строка обычно компилируется в несколько команд байтового кода подсветка исходного кода показывает три различных состояния для каждой строки содержащей исходный код:

Отсутствие покрытия: ни одна инструкция в строке не была выполнена (красный фон)
Частичное покрытие: была выполнена только часть инструкции в строке (желтый фон)
Полный охват: все инструкции в строке были выполнены (зеленый фон)

В зависимости от исходного форматирования одна строка исходного кода может ссылаться на несколько методов или несколько классов. Поэтому количество строк методов не может быть просто добавлено, чтобы получить общее число для содержащего класса. То же самое справедливо и для строк нескольких классов в одном исходном файле. JaCoCo вычисляет покрытие линий для классов и исходного файла на основе фактических покрытых исходных линий.
* BRANCH -JaCoCo также вычисляет покрытие ветвей для всех операторов if и switch. Эта метрика подсчитывает общее количество таких ветвей в методе и определяет количество выполненных или пропущенных ветвей. Покрытие ветвей всегда доступно, даже при отсутствии отладочной информации в файлах классов. Обратите внимание, что обработка исключений не рассматривается как ветви в контексте этого определения счетчика.

Если файлы класса не были скомпилированы с отладочной информацией точки принятия решений могут быть сопоставлены с исходными строками и выделены соответствующим образом:

Отсутствие покрытия: никакие ветви в линии не были выполнены (красный алмаз)
Частичное покрытие: была выполнена только часть ветвей в линии (желтый бриллиант)
Полный охват: все ветви в линии были выполнены (зеленый алмаз)
* COMPLEXITY-JaCoCo также вычисляет цикломатическую сложность для каждого неабстрактного метода и суммирует сложность для классов, пакетов и групп. Согласно его определению McCabe1996 цикломатическая сложность - это минимальное число путей, которые могут в (линейной) комбинации генерировать все возможные пути с помощью метода. Таким образом, значение сложности может служить индикатором для количества случаев модульного тестирования, чтобы полностью охватить определенную часть программного обеспечения. Показатели сложности всегда можно рассчитать, даже при отсутствии отладочной информации в файлах классов.

Формальное определение цикломатической сложности v (G) основано на представлении графа потока управления методом в виде направленного графа:

v (G) = E-N + 2

Где E - число ребер, а N-число узлов. JaCoCo вычисляет цикломатическую сложность метода с помощью следующего эквивалентного уравнения, основанного на количестве ветвей (B) и количестве точек принятия решений (D):

v (G) = B-D + 1

На основе статуса покрытия каждой ветви JaCoCo также вычисляет покрытую и пропущенную сложность для каждого метода. Пропущенная сложность опять же является показателем количества тестовых случаев, отсутствующих для полного покрытия модуля. Обратите внимание, что поскольку JaCoCo не рассматривает обработку исключений в качестве ветвей, блоки try/catch также не увеличат сложность.
